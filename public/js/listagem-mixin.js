riot.mixin("ListagemMixin",{urlFetch:null,onSearch(e){e.preventDefault(),this.onRequest()},onPrev(e){e.preventDefault(),this.onRequest(this.grid.prev_page_url)},onNext(e){e.preventDefault(),this.onRequest(this.grid.next_page_url)},callbackBeforeRequest:function(){return!0},callbackOnRequest:function(e){this.update({grid:e,loading:!1})},onRequest(e){var t=this,i=(e=e||"",this.refs.formulario),n=Serialize.toJson(i);n.paginate=!0,this.callbackBeforeRequest()&&Request.post(this.urlFetch+e,JSON.stringify(n),function(e){t.callbackOnRequest(e)})}});